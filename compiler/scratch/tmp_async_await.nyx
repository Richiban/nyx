type Async(a) = #done(a) | #pending(a)
def await = {
  | #pending(v), cont -> #pending(cont(v))
  | #done(v), cont -> #pending(cont(v))
}
def fromResult: a -> Async(a) = { r -> #done(r) }
def a = fromResult(5)
def c = await(a, {b -> b + 1})
